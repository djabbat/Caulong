# Caucasian Longevity

Caulong App

## Getting Started

# –ò–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
---
- docker-compose up -d --build
---

## Build

### Android
flutter build apk --release

### iOS
flutter build ios --release

### Web
flutter build web --release

### Windows
flutter build windows --release

### macOS
flutter build macos --release

### Linux
flutter build linux --release
# Caulong ‚Äî –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è —á–µ—Ä–µ–∑ –¥—ã—Ö–∞–Ω–∏–µ, —Å–æ–Ω –∏ –ø–∏—Ç–∞–Ω–∏–µ

![–õ–æ–≥–æ—Ç–∏–ø Caulong](logo.png)

## –û –ø—Ä–æ–µ–∫—Ç–µ

**caulong** ‚Äî —ç—Ç–æ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ–º–æ–≥–∞—é—â–µ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —É–ª—É—á—à–∞—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –∞–Ω–∞–ª–∏–∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–º–∞ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ –¥—ã—Ö–∞–Ω–∏—é, —Å–Ω—É –∏ –ø–∏—Ç–∞–Ω–∏—é.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (–¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è, –ø–æ–ª), –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏–µ –∞–Ω–∞–ª–∏–∑—ã, —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏, –∑–≤—É–∫–æ–≤—ã–µ —Ñ–∞–π–ª—ã –∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —Å–Ω–∏–º–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–¥–æ—Ä–æ–≤—å—è –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Å –ø–æ–º–æ—â—å—é –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞.

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Flutter** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **CockroachDB** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Redis / Memcached** ‚Äî –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **PyTorch + FastAPI** ‚Äî –º–æ–¥–µ–ª—å –ò–ò –∏ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å
- **JWT** ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **GCP** ‚Äî –æ–±–ª–∞—á–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤

```


---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: BLoC

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **BLoC (Business Logic Component)**:
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ UI –∏ –ª–æ–≥–∏–∫–∏
- –£–¥–æ–±—Å—Ç–≤–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü—Ä–æ—Å—Ç–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

–ü—Ä–∏–º–µ—Ä:
```dart
class HealthBloc extends Bloc<HealthEvent, HealthState> {
  final HealthRepository _repository;

  HealthBloc(this._repository) : super(InitialHealthState());

  @override
  Stream<HealthState> mapEventToState(HealthEvent event) async* {
    if (event is AnalyzeHealthEvent) {
      yield LoadingHealthState();
      try {
        final result = await _repository.analyze(event.userData);
        yield SuccessHealthState(result);
      } catch (_) {
        yield ErrorHealthState();
      }
    }
  }
}
```

---

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: CockroachDB

Flutter App (caulong)
       ‚Üì
HTTP API (FastAPI)
       ‚Üì
PostgreSQL protocol
       ‚Üì
CockroachDB (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è SQL –ë–î)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ CockroachDB (Linux/macOS)

url https://binaries.cockroachdb.com/cockroach-v23.2.6.linux-amd64.tgz  | tar -xz
sudo cp cockroach-v23.2.6.linux-amd64/cockroach /usr/local/bin/c

### –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —É–∑–ª–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
- Docker
- Docker Compose
- Flutter SDK
- Alembic

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å –ø—Ä–æ–µ–∫—Ç–æ–º –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

–°–±–æ—Ä–∫–∞: 
- docker-compose build

–ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π: 
- docker-compose run --rm fastapi python -m alembic upgrade head

–ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞:
- docker-compose up fastapi
–û–Ω –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
üëâ http://localhost:8000

–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤: 
- docker-compose up -d

–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤—Ä—É—á–Ω—É—é: 
- docker-compose down

## –ö–∞–∫ –ª–æ–∫–∞–ª—å–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ò–ò

### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–í –ø–∞–ø–∫–µ —Å FastAPI —Å–µ—Ä–≤–µ—Ä–æ–º:
- pip install fastapi uvicorn torch torchvision torchaudio pydantic

### –ó–∞–ø—É—Å–∫ FastAPI

- uvicorn main:app --reload

### –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∏–ª–ª–∏–∞—Ä–¥–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **CockroachDB** ‚Äî –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –û–Ω–∞ —Å–æ—á–µ—Ç–∞–µ—Ç –º–æ—â—å SQL —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤—ã—Å–æ–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ACID-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É —Ä–µ–≥–∏–æ–Ω–∞–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GCP

### –®–∞—Ä–¥–∏–Ω–≥

Cloud Spanner –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —à–∞—Ä–¥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ –≤—Å–µ–º—É –∫–ª–∞—Å—Ç–µ—Ä—É. –û–¥–Ω–∞–∫–æ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∫–ª—é—á–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

```sql
CREATE TABLE Users (
  UserId INT64 NOT NULL,
  Name STRING(MAX),
  Gender STRING(10),
  BirthDate DATE,
  LastLogin TIMESTAMP OPTIONS (allow_commit_timestamp=true),
) PRIMARY KEY (UserId)
INTERLEAVE IN PARENT Regions ON DELETE CASCADE;
```

### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:
- **Redis** (–≤ GCP: Memorystore for Redis)
- **Memcached** (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Redis)

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Redis:
```python
import redis

r = redis.Redis(host='redis-instance', port=6379, db=0)

def get_cached_health(user_id):
    return r.get(f"health:{user_id}")

def set_cached_health(user_id, data):
    r.setex(f"health:{user_id}", 86400, data)  # —Ö—Ä–∞–Ω–∏—Ç—å 24 —á–∞—Å–∞
```
## –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç (–ò–ò)

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ò–ò?

- –ê–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–¥–æ—Ä–æ–≤—å—è –ø–æ –¥–∞–Ω–Ω—ã–º:
  - –ü–æ–ª
  - –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
  - –ö–ª–∏–Ω–∏—á–µ—Å–∫–∏–µ –∞–Ω–∞–ª–∏–∑—ã
  - –¢–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–º–µ—Ç–∫–∏
  - –ê—É–¥–∏–æ–∑–∞–ø–∏—Å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞—à–µ–ª—å, –¥—ã—Ö–∞–Ω–∏–µ)
  - –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —Å–Ω–∏–º–∫–∏ (X-ray, –ú–†–¢)

### –í—ã—Ö–æ–¥ –ò–ò:
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥—ã—Ö–∞–Ω–∏—é
- –°–æ–≤–µ—Ç—ã –ø–æ —Å–Ω—É
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ

---

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ò–ò

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å –Ω–∞ PyTorch

–ú–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤–µ—Ä—Ç–æ—á–Ω–æ–π –Ω–µ–π—Ä–æ—Å–µ—Ç—å—é –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, LSTM –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –∏ RNN –¥–ª—è –∑–≤—É–∫–∞.

```python
import torch
from torch import nn

class HealthModel(nn.Module):
    def __init__(self):
        super().__init__()
        self.cnn = nn.Conv2d(...)
        self.rnn = nn.LSTM(...)

    def forward(self, x):
        ...
```

### –®–∞–≥ 2: API-—Å–µ—Ä–≤–µ—Ä –Ω–∞ FastAPI

```python
from fastapi import FastAPI, Depends, HTTPException
from pydantic import BaseModel
import ai_model

app = FastAPI()

class UserInput(BaseModel):
    birth_date: str
    gender: str
    text_notes: str
    image_url: str
    audio_url: str

@app.post("/analyze")
async def analyze_health(data: UserInput, token: str = Depends(validate_jwt)):
    result = ai_model.predict(data)
    return {"recommendations": result}
```
### –®–∞–≥ 4: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **JWT-—Ç–æ–∫–µ–Ω—ã**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **Rate Limiting**: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- **HTTPS**: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –®–∞–≥ 5: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ Flutter

```dart
Future<void> sendToAI(UserData data) async {
  final url = Uri.parse('https://ai-api.example.com/analyze');
  final response = await http.post(
    url,
    headers: {
      'Content-Type': 'application/json',
      'Authorization': 'Bearer $token',
    },
    body: jsonEncode(data.toJson()),
  );
  
  if (response.statusCode == 200) {
    final result = jsonDecode(response.body);
    print("AI recommendations: $result");
  } else {
    throw Exception('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ –¥–∞–Ω–Ω—ã—Ö');
  }
}
```

---

## –ö–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏

```bash
# –û—á–∏—Å—Ç–∫–∞
flutter clean

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
flutter pub get

# –ó–∞–ø—É—Å–∫
flutter run

# –°–±–æ—Ä–∫–∞ –ø–æ–¥ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
flutter build apk --release
flutter build ios --release
flutter build web --release # üëâ http://localhost:81
flutter build windows --release
flutter build macos --release
flutter build linux --release
```